<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: migration_helpers.rb</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>migration_helpers.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>lib/migration_helpers/migration_helpers.rb
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sat Sep 26 11:03:46 +0200 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../../../classes/ForeignKeys.html">ForeignKeys</a></h1>
<p>
Adds the foreign_key and remove_foreign_key methods to your migrations.
</p>
<h2>Usage</h2>
<pre>
  rails = TavForRails::Project.new(options)
  rails.add &quot;ForeignKeys&quot;, options
</pre>
<p>
Installs migration_helpers.rb into the lib directory.
</p>
<p>
It currently supports the postgresql, mysql and jdbcmysql adapters but it
will probably work with most databases and adapters. You just have to
modify migration_helpers.rb in the <a
href="../../../classes/TavForRails.html">TavForRails</a>
lib/migration_helpers/file/ directory to use the right foreign key creation
statement for your database and hook it up to the name of your adapter. It
will be straightforward after you look at the code.
</p>
<p>
To use the helper methods build the migration like this:
</p>
<pre>
  require &quot;migration_helpers&quot;

  class MyMigration &lt; ActiveRecord::Migration
    extend MigrationHelpers
    def self.up
      create :books do |t|
         t.column author_id, :integer
         ...
      end
      foreign_key :books, :author_id, :authors
    end

    def self.down
      remove_foreign_key :books, :author_id
      drop_table :books
    end
  end
</pre>
<p>
There is further information about the methods arguments in the source code
of the module.
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>